{"version":3,"sources":["webpack:///src/page/login.vue","webpack:///./src/page/login.vue?73b2","webpack:///./src/page/login.vue"],"names":["login","data","checked","ruleForm","userName","password","tid","created","_this","this","cookie","document","console","log","indexOf","getCookie","setTimeout","$store","state","token","window","sessionStorage","setItem","$router","push","path","setCookie","methods","changeChecked","clearTimeout","submitForm","name","pass","clearCookie","$message","error","c_name","c_pwd","exdays","exdate","Date","setTime","getTime","toGMTString","length","arr","split","i","arr2","store","page_login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","placeholder","nativeOn","keyup","$event","_k","keyCode","key","model","value","callback","$$v","$set","expression","_v","type","on","change","size","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.10758f1d0d2e5617f62a.js","sourcesContent":["<template>\r\n\t<div class=\"box\">\r\n\t\t<div class=\"content\">\r\n\t\t\t<el-input class=\"input-text\" @keyup.enter.native=\"submitForm\" v-model=\"ruleForm.userName\" placeholder=\"请输入用户名\"></el-input>\r\n\t\t\t<el-input type=\"password\" @keyup.enter.native=\"submitForm\" v-model=\"ruleForm.password\" class=\"input-text\" placeholder=\"请输入密码\"></el-input>\r\n\t\t\t<el-checkbox class=\"checkbox\" @change=\"changeChecked\" v-model=\"checked\">记住密码</el-checkbox>\r\n\t\t\t<el-button type=\"primary\" @click=\"submitForm\" class=\"login-btn\" size=\"medium\">登录</el-button>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport store from '@/store'\r\nexport default {\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tchecked: false,\r\n\t\t\truleForm: {\r\n\t\t\t\tuserName: '',\r\n\t\t\t\tpassword: ''\r\n\t\t\t}, \r\n\t\t\ttid: null\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\tvar cookie = document.cookie;\r\n\t\tconsole.log(cookie)\r\n\t\tif(cookie.indexOf('userName=') > -1 && cookie.indexOf('userPwd=') > -1 && cookie.indexOf('undefined') <= -1) {\r\n\t\t\tthis.checked = true;\r\n\t\t\tthis.getCookie();\r\n\t\t\tconsole.log('有缓存')\r\n\t\t\tthis.tid = setTimeout(() =>{\r\n\t\t\t\tthis.$store.state.token = '123456789';\r\n\t\t\t\twindow.sessionStorage.setItem('token',this.$store.state.token);\r\n\t\t\t\tthis.$router.push({path: '/home'});\r\n\t\t\t\tthis.setCookie();\r\n\t\t\t},2000)\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t\t//记住密码\r\n\t\t\tchangeChecked(){\r\n\t\t\t\tconsole.log(this.checked)\r\n\t\t\t\tif(this.checked) {\r\n\t\t\t\t\tthis.setCookie();\r\n\t\t\t\t} else if(this.tid != null) {\r\n\t\t\t\t\tclearTimeout(this.tid);\r\n\t\t\t\t}\r\n\t\t\t\t// this.checked = checked;\r\n\t\t\t},\r\n\t\t\t//点击登录调用方法\r\n\t\t\tsubmitForm() {\r\n\t\t        //保存的账号\r\n\t\t        var name=this.ruleForm.userName;\r\n\t\t        //保存的密码\r\n\t\t        var pass=this.ruleForm.password;\r\n\t\t        if(name==''||name==null){\r\n\t\t        \tthis.$message.error('您的用户名输入有误！');\r\n\t\t        \treturn\r\n\t\t        }else if(pass==''||pass==null) {\r\n\t\t        \tthis.$message.error('您的密码输入有误！');\r\n\t\t        \treturn\r\n\t\t        }\r\n\t\t        //判断复选框是否被勾选 勾选则调用配置cookie方法\r\n\t\t        if(this.checked = true){\r\n\t\t            //传入账号名，密码，和保存天数3个参数\r\n\t\t            this.setCookie(name,pass,7);\r\n\t\t        } else {\r\n\t\t        \tthis.clearCookie();\r\n\t\t        }\r\n\t\t        this.$store.state.token = '123456789';\r\n\t\t        window.sessionStorage.setItem('token',this.$store.state.token);\r\n\t\t        // this.$router.push({ name: 'home', params: { userId: wise }})\r\n\t\t        this.$router.push({ path: '/home'})\r\n\t\t        //接口\r\n\t\t       //  var url='myserver/user/login';\r\n\t\t       //  this.$http.post(url,this.ruleForm,{emulateJSON:true})\r\n\t\t       //    .then(res=>{\r\n\t\t       //      if(res.body==\"fail\"){\r\n\t\t       //        this.ruleForm.userName='';\r\n\t\t       //        this.ruleForm.password='';\r\n\t\t       //        return\r\n\t\t       //      } else{\r\n\t\t       //      alert(\"登陆成功！\")\r\n\t\t       //        this.$router.push(\"/index\")\r\n\t\t       //      }\r\n\t\t      \t// });\r\n\t\t      },\r\n\t\t  //设置cookie\r\n\t\t  setCookie(c_name,c_pwd,exdays) {\r\n\t\t      var exdate=new Date();//获取时间\r\n\t\t      exdate.setTime(exdate.getTime() + 24*60*60*1000*exdays);//保存的天数\r\n\t\t      //字符串拼接cookie\r\n\t\t      window.document.cookie=\"userName\"+ \"=\" +c_name+\";path=/;expires=\"+exdate.toGMTString();\r\n\t\t      window.document.cookie=\"userPwd\"+\"=\"+c_pwd+\";path=/;expires=\"+exdate.toGMTString();\r\n\t\t  },\r\n\t\t    //读取cookie\r\n\t\t    getCookie() {\r\n\t\t    \tif (document.cookie.length>0) {\r\n\t\t        var arr=document.cookie.split('; ');//这里显示的格式需要切割一下自己可输出看下\r\n\t\t        for(var i=0;i<arr.length;i++){\r\n\t\t          var arr2=arr[i].split('=');//再次切割\r\n\t\t          //判断查找相对应的值\r\n\t\t          if(arr2[0]=='userName' && arr2[0]!='undefined'){\r\n\t\t            this.ruleForm.userName=arr2[1];//保存到保存数据的地方\r\n\t\t        }else if(arr2[0]=='userPwd' && arr2[0]!='undefined'){\r\n\t\t        \tthis.ruleForm.password=arr2[1];\r\n\t\t        }\r\n\t\t    }\r\n\t\t}\r\n\t},\r\n\t\t    //清除cookie\r\n\t\t    clearCookie() {\r\n\t\t      this.setCookie(\"\",\"\",-1);//修改2值都为空，天数为负1天就好了\r\n\t\t  }\r\n\t\t},\r\n\t\tstore\r\n\t}\r\n\t</script>\r\n\t<style scoped>\r\n\t.box{height: 100%;background: rgba(0,0,0,.7);display: flex;justify-content: center;align-items: center;}\r\n\t.box .content{width: 300px;background: #fff;padding: 0 20px 20px;border-radius: 5px;}\r\n\t.box .input-text{width: 300px;margin: 20px 0 0;height: 40px;}\r\n\t.box .login-btn{width: 300px; margin: 20px 0 0;height: 40px;}\r\n\t.box .checkbox{margin: 20px 0 0;}\r\n\t</style>\n\n\n// WEBPACK FOOTER //\n// src/page/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"content\"},[_c('el-input',{staticClass:\"input-text\",attrs:{\"placeholder\":\"请输入用户名\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm($event)}},model:{value:(_vm.ruleForm.userName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"userName\", $$v)},expression:\"ruleForm.userName\"}}),_vm._v(\" \"),_c('el-input',{staticClass:\"input-text\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm($event)}},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}}),_vm._v(\" \"),_c('el-checkbox',{staticClass:\"checkbox\",on:{\"change\":_vm.changeChecked},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"记住密码\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"login-btn\",attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"登录\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b33750c4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b33750c4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b33750c4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b33750c4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}